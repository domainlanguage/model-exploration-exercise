<html>

<head>
  <style type="text/css">
    .sheet {
      display: grid;
      border: 5x red solid;
      grid-template-columns: 45vw 45vw;
      grid-template-rows: repeat(5, 400px);
    }

    .card {
      border: 1px orange solid;
      padding: 0px;
      margin: 10px;
    }

    .card .question {
      background: pink;
      color: black;
      height: 100%;
      width: 100%;
      transition: 0.5s ease;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 15px;
    }

    .card .question.revealed {
      height: 20%;
      border-bottom-right-radius: 0px;
      border-bottom-left-radius: 0px;
    }

    .card .answer {
      display: flex;
      height: 0;
      opacity: 0;
      background: black;
      color: pink;
      justify-content: center;
      align-items: center;
      transition: 0.5s ease;
      border-bottom-right-radius: 15px;
      border-bottom-left-radius: 15px;
    }

    .card .answer.revealed {
      height: 80%;
      opacity: 100%;
    }
  </style>
</head>

<body>
  Hello! <button id="hide-all">Hide all</button>
  <p></p>
  <div class="sheet">
    <div class="card">
      <div class="question">
        Can you describe the simplest version of the software you need?
      </div>
      <div class="answer">Automatically download the vendor handling report as a PDF and then do a Ctrl-F and the cargo
        ID, and then copy all the pages it finds.
      </div>
    </div>
    <div class="card">
      <div class="question">Where can we get the data?
      </div>
      <div class="answer">All the data is in the vendor handling report I would use to do this manually, so you could
        get the data from there.
      </div>
    </div>
    <div class="card">
      <div class="question">How detailed should location be? GPS coordinates?
      </div>
      <div class="answer">We just want to know what vessel voyage it's on or what port it's in. We know where the ship
        is, if we need that!
      </div>
    </div>
    <div class="card">
      <div class="question">Are the cargoes physically tracked as they move around? Can you explain that?
      </div>
      <div class="answer">Cargo gets logged at various points, using bar code scanners or something comparable.
        Especially when a cargo is loaded or unloaded or received or stored, etc.
      </div>
    </div>
    <div class="card">
      <div class="question">Would you walk us through an example and show us how you'd figure this out manually if you
        had to?
      </div>
      <div class="answer">The itinerary says a cargo should be transferred
        in LGB port, and it is due in today on vessel
        voyage X. I go to the vendor handling report for
        the section for LGB, unloading of X. Let’s say I
        see my cargo’s ID in the (long) list. Then I'll find
        the section for the loading of the train it’s
        supposed to be transported out on. I don’t see it
        there, so I know it must be in the port of LGB.
      </div>
    </div>
    <div class="card">
      <div class="question">Do we need history?
      </div>
      <div class="answer">No. It would be nice to have sometimes when we are trying to figure out what went wrong. But
        what we really need now is the current location.
      </div>
    </div>
    <div class="card">
      <div class="question">How accurate does the answer need to be?
      </div>
      <div class="answer">As accurate as possible.
      </div>
    </div>
    <div class="card">
      <div class="question">Where does the data in the vendor handling report come from?
      </div>
      <div class="answer">Well, maybe <i>you</i> can tell <i>me</i> that. It's your software after all!
      </div>
    </div>
    <div class="card">
      <div class="question">Is the customer looking up their current cargo location directly?
      </div>
      <div class="answer">Customers call our shipping clerks to ask.
        Sometimes clerks or operational personnel
        will want to look up a cargo for some
        reason. Or a sales rep, if an important
        customer has a critical cargo.
      </div>
    </div>
    <div class="card">
      <div class="question">The legacy system is pretty awful, isn't it?
      </div>
      <div class="answer">
        Yes, you've convinced me our software is awful!
      </div>
    </div>
  </div>
  <script type="text/javascript">
    console.log("Hello world");

    // utility for explicit error handling
    function getChildByClass(element, className) {
      const child = element.getElementsByClassName(className);
      if (child.length === 0) {
        throw new Error("Element " + element.id + " has no child of class " + className + ", expected 1");
      }
      if (child.length > 1) {
        throw new Error("Element " + element.id + " has multiple children of class " + className + ", expected 1");
      }
      return child[0];
    }

    // setup
    const rawCards = document.getElementsByClassName("card");

    // get data in the right format
    const cards = [];
    for (rawCard of rawCards) {
      const question = getChildByClass(rawCard, "question");
      const answer = getChildByClass(rawCard, "answer");
      cards.push({ question: question, answer: answer });
    }

    // now that we have all the cards, we know how to hide them. initialize button.
    function hideAllCards() {
      for (card of cards) {
        hideAnswer(card)();
      }
    }
    document.getElementById("hide-all").addEventListener("click", hideAllCards)

    // initialize all cards
    for (card of cards) {
      console.log("got a card");
      card.question.addEventListener("click", showAnswer(card))
      card.answer.addEventListener("click", hideAnswer(card))
    }

    // the actual things that do something
    function showAnswer(card) {
      return function (clickEvent) {
        hideAllCards();
        card.question.classList.add("revealed");
        card.answer.classList.add("revealed");
      }
    }

    function hideAnswer(card) {
      return function (clickEvent) {
        card.question.classList.remove("revealed");
        card.answer.classList.remove("revealed");
      }
    }
  </script>
</body>

</html>